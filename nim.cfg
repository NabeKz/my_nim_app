# Nim Compiler Configuration
# See: https://nim-lang.org/docs/nimc.html#compiler-usage-configuration-files

# Output and compilation settings
--outdir:"bin"
--nimcache:"tmp"

# Style and warning settings
--styleCheck:hint
--styleCheck:usages
--spellSuggest:auto

# Warning settings
--warning[UnusedImport]:on
--warning[Deprecated]:on
--warning[ProveInit]:off
--warning[GcUnsafe]:on

# Hint settings
--hint[Performance]:on
--hint[Pattern]:on
--hint[LineTooLong]:on

# Development settings
when defined(debug):
  --stackTrace:on
  --lineTrace:on
  --debuginfo
  --assertions:on
  --nilChecks:on
  --objChecks:on
  --fieldChecks:on
  --rangeChecks:on
  --boundChecks:on
  --overflowChecks:on
  --floatChecks:on

# Release settings
when defined(release):
  --opt:speed
  --assertions:off
  --nilChecks:off
  --objChecks:off
  --fieldChecks:off
  --rangeChecks:off
  --boundChecks:off
  --overflowChecks:off
  --floatChecks:off

# Memory management
--mm:refc  # Use reference counting memory management

# Multithreading
--threads:on

# Performance optimization
--passC:"-march=native"
--passL:"-s"  # Strip symbols in release mode

# Documentation generation
when defined(docs):
  --doc
  --project
  --outdir:"docs"